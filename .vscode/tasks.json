{
    "tasks": [
        {
            "label": "CleanBuildFolder",
            "type": "shell",
            "command": "rm -rf ./build"
        },
        {
            "label": "MesonDebugConfig",
            "type": "shell",
            "command": "meson build --buildtype=debug --prefix=~/.lv2"
        },
        {
            "label": "MesonReleaseConfig",
            "type": "shell",
            "command": "meson build --buildtype=release --prefix=~/.lv2"
        },
        {
            "label": "NinjaBuild",
            "type": "shell",
            "command": "ninja -C build -v"
        },
        {
            "label": "NinjaInstall",
            "type": "shell",
            "command": "ninja -C build install -v"
        },
        {
            "label": "NinjaTest",
            "type": "shell",
            "command": "ninja -C build test"
        },
        {
            "label": "NinjaUninstall",
            "type": "shell",
            "command": "ninja -C build uninstall"
        },
        {
            "label": "NinjaClean",
            "type": "shell",
            "command": "ninja -C build -t clean"
        },
        {
            "label": "SordValidate",
            "type": "shell",
            "command": "sord_validate $(find ./build -name *.ttl) $(find /usr/lib/lv2 -name *.ttl)"
        },
        {
            "label": "Lv2Bench",
            "type": "shell",
            "command": "lv2bench https://github.com/lucianodato/noise-repellent"
        },
        {
            "label": "ValgrindLv2Apply",
            "type": "shell",
            "command": "valgrind",
            "args": [
                "--leak-check=full",
                "--track-origins=yes",
                "lv2apply",
                "-i",
                "~/Music/noise.wav",
                "-o",
                "~/Music/denoised.wav",
                "https://github.com/lucianodato/noise-repellent"
            ]
        },
        {
            "label": "DebugPlugin",
            "dependsOn": [
                "CleanBuildFolder",
                "MesonDebugConfig",
                "NinjaBuild",
                "NinjaInstall",
            ],
            "dependsOrder": "sequence",
            "problemMatcher": {
                "base": "$gcc",
            }
        },
        {
            "label": "ValgrindPlugin",
            "dependsOn": [
                "CleanBuildFolder",
                "MesonDebugConfig",
                "NinjaBuild",
                "NinjaInstall",
                "ValgrindLv2Apply"
            ],
            "dependsOrder": "sequence",
        },
        {
            "label": "TestPlugin",
            "dependsOn": [
                "CleanBuildFolder",
                "MesonReleaseConfig",
                "NinjaBuild",
                "NinjaInstall",
                "SordValidate",
                "Lv2Bench"
            ],
            "dependsOrder": "sequence",
        },
        {
            "label": "InstallPlugin",
            "dependsOn": [
                "CleanBuildFolder",
                "MesonReleaseConfig",
                "NinjaBuild",
                "NinjaInstall",
            ],
            "dependsOrder": "sequence",
        },
        {
            "label": "UninstallPlugin",
            "dependsOn": [
                "NinjaUninstall",
                "NinjaClean",
                "CleanBuildFolder",
            ],
            "dependsOrder": "sequence",
        },
        {
            "label": "InstallDevelopmentDependencies",
            "type": "shell",
            "command": "sudo apt install build-essential gdb valgrind meson ninja-build git lv2-dev libfftw3-dev sordi lilv-utils"
        },
        {
            "label": "InstallDevelopmentLinters",
            "type": "shell",
            "command": "sudo apt install clang cppcheck pip && sudo pip install flawfinder lizard"
        }
    ],
    "version": "2.0.0"
}